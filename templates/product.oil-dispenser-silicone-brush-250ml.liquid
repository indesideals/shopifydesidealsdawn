{% comment %}
  Clean Product Template - Using Simple Manual System
  Manual star ratings and product data that you can control
{% endcomment %}

{% comment %} MANUAL PRODUCT DATA - Direct assignment {% endcomment %}
{% if product.handle == 'oil-dispenser-silicone-brush-250ml' %}
  {% assign product_rating = 4.6 %}
  {% assign product_review_count = 2453 %}
  {% assign product_description = "Effortless oil control for perfect cooking! This premium oil dispenser with silicone brush gives you precise control over oil application. Perfect for greasing pans, applying marinades, and cooking with precision." %}
  {% assign product_key_features = "250ml glass container with leak-proof seal,Food-grade silicone brush for precise application,Dishwasher safe and easy to clean,Perfect for greasing pans and applying marinades,Compact design fits any kitchen counter" | split: "," %}
  {% assign how_to_use = "Fill with your preferred oil,Press brush to dispense oil,Apply evenly to pans or food,Clean brush after use" | split: "," %}
  {% assign faqs = "What oils can I use?|Any cooking oil including olive, vegetable, or coconut oil.,Is it dishwasher safe?|Yes, both container and brush are dishwasher safe.,How much oil does it hold?|250ml capacity for multiple uses." | split: "," %}
{% elsif product.handle == 'vegetable-cleaning-brush' %}
  {% assign product_rating = 4.8 %}
  {% assign product_review_count = 3221 %}
  {% assign product_description = "ğŸ¥• Meet your veggie-scrub MVP. This carrot-shaped brush lifts mud and wax from potatoes, carrots, cucumbers, and fruitâ€”fast and gentle. Keep peels (and nutrients) intact while getting a truly clean surface. âœ¨\n\nâœ‹ Comfortable, non-slip grip. The ribbed body and thumb rest stay steady even with soapy hands. Control the pressure for firm veggies or softer produce. ğŸ”’\n\nğŸš¿ Hygienic and easy to clean. Rinse under the tap, give it a quick shake, and it dries fastâ€”no lingering odors. Hang it up after use to keep your sink area tidy. ğŸ§¼ğŸª\n\nğŸ Small, cute, and versatile. Adds a pop of color by the sink and doubles for quick tasksâ€”rinsing berries or scrubbing mini boards and colanders. Everyday prep made simpler. ğŸ™Œ" %}
  {% assign product_key_features = "ğŸ¥• Gentle, effective scrubbing: removes dirt & residue while keeping peels + nutrients intact\n\nâœ‹ Ergonomic & non-slip: ribbed body + thumb rest for a secure hold\n\nğŸš¿ Hygienic & quick-clean: rinse under the tap; bristles dry fast â±ï¸\n\nğŸ˜Š Compact & cute: carrot look adds a fun pop to your sink; easy to store or hang ğŸ§º\n\nğŸ Multi-use: veggies, fruit, and even scrub small boards" | split: "\n\n" %}
  {% assign how_to_use = "Wet produce and the brush\n\nScrub in light circular motions (adjust pressure for soft vs. firm produce)\n\nRinse produce & brush, then hang to dry" | split: "\n\n" %}
  {% assign faqs = "What can I use this brush for?|For scrubbing dirt/wax off potatoes, carrots, cucumbers, apples and other firm produce. It also helps refresh colanders and small cutting boards.,Is it safe for soft fruits like tomatoes?|Yesâ€”use a light touch and short strokes. Increase pressure only for firmer skins.,What materials is it made of?|Food-safe PP (polypropylene) handle with nylon bristles. BPA-free.,Will the bristles damage peels or remove nutrients?|Noâ€”bristles are firm yet gentle. They lift surface grime while keeping peels (and nutrients) intact when used with light to moderate pressure." | split: "," %}
{% elsif product.handle == 'kitchen-sink-strainer-basket' %}
  {% assign product_rating = 4.8 %}
  {% assign product_review_count = 1247 %}
  {% assign product_description = "Keep your sink drain clean and clog-free with this easy-press kitchen sink strainer basket. Perfect for catching food particles and preventing plumbing issues. Features a convenient press-down design for easy cleaning." %}
  {% assign product_key_features = "Easy-press design for simple cleaning,Fits most standard sink drains,Catches food particles effectively,Durable construction,Prevents drain clogs" | split: "," %}
  {% assign how_to_use = "Place in sink drain,Press down to secure,Clean regularly,Remove and rinse as needed" | split: "," %}
  {% assign faqs = "What size sink does this fit?|Fits most standard kitchen sink drains.,How do I clean it?|Simply remove and rinse under running water.,Is it dishwasher safe?|Yes, it's dishwasher safe for easy cleaning." | split: "," %}
{% else %}
  {% assign product_rating = 4.5 %}
  {% assign product_review_count = 1500 %}
  {% assign product_description = product.description %}
  {% assign product_key_features = "Premium quality materials,Easy to use and maintain,Durable and long-lasting,Perfect for daily use" | split: "," %}
  {% assign how_to_use = "Follow product instructions,Use as intended,Clean after use,Store properly" | split: "," %}
  {% assign faqs = "How do I use this product?|Follow the included instructions for best results.,Is it safe?|Yes, made with safe materials for intended use." | split: "," %}
{% endif %}

<div class="product-page">
  <div class="product-container">
    <!-- Product Images Section -->
    <div class="product-images-section">
      <!-- Main Image -->
      <div class="main-image-container">
        <img id="main-product-image" src="{{ product.featured_image | img_url: '800x' }}" alt="{{ product.title }}" onclick="openLightbox(currentSlide)">
        <div class="enlarge-hint">Click to enlarge</div>
        
        <!-- Loading Skeleton -->
        <div id="image-loading-skeleton" class="image-loading-skeleton">
          <div class="skeleton-shimmer"></div>
        </div>
        
        <!-- Navigation Arrows Inside Main Image -->
        {% if product.images.size > 1 %}
          <button class="main-image-arrow main-image-prev" onclick="changeMainImage(-1)">â€¹</button>
          <button class="main-image-arrow main-image-next" onclick="changeMainImage(1)">â€º</button>
        {% endif %}
      </div>
      
      <!-- Thumbnail Gallery -->
      {% if product.images.size > 1 %}
        <div class="thumbnail-gallery">
          <div class="thumbnails-container">
            {% for image in product.images limit: 6 %}
              <div class="thumbnail" onclick="setMainImage({{ forloop.index0 }})" data-index="{{ forloop.index0 }}">
                <img src="{{ image | img_url: '200x' }}" alt="{{ product.title }} - Image {{ forloop.index }}">
              </div>
            {% endfor %}
          </div>
        </div>
      {% endif %}
    </div>

    <!-- Product Info Section -->
    <div class="product-info-section">
      <!-- Product Name -->
      <h1 class="product-title">{{ product.title }}</h1>
      
      <!-- Rating -->
      <div class="product-rating">
        <span class="rating-number">{{ product_rating }}</span>
        {% render 'star-rating', rating: product_rating %}
        <span class="review-count">({{ product_review_count }} reviews)</span>
      </div>
      
      <!-- Price & Quantity Row -->
      <div class="price-quantity-row">
        <div class="product-price">
          <span class="current-price">â‚¹{{ product.price | money_without_currency | replace: '.00', '' }}</span>
          {% if product.compare_at_price > product.price %}
            <span class="compare-price">â‚¹{{ product.compare_at_price | money_without_currency | replace: '.00', '' }}</span>
            <span class="discount-badge">40% OFF</span>
          {% endif %}
        </div>
        
        <div class="quantity-selector">
          <label for="quantity">Qty:</label>
          <div class="quantity-controls">
            <button type="button" onclick="updateQuantity(-1)">-</button>
            <input type="number" id="quantity" value="1" min="1" max="10">
            <button type="button" onclick="updateQuantity(1)">+</button>
          </div>
        </div>
      </div>
      
      <!-- Add to Cart Button -->
      <div class="product-actions">
        <button class="add-to-cart-btn" onclick="addToCart()">
          <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
          Add to Cart
        </button>
      </div>
      
          <!-- Trust Badges -->
    <div class="trust-badges">
      <div class="trust-badge">
        <svg class="badge-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h4c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
        </svg>
        <span>Free Delivery</span>
      </div>
      <div class="trust-badge">
        <svg class="badge-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
        <span>Quality Assured</span>
      </div>
      <div class="trust-badge">
        <svg class="badge-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
        </svg>
        <span>Cash on Delivery</span>
      </div>
    </div>
    </div>
  </div>

      <!-- Product Details Accordions -->
    <div class="product-details">
      <div class="accordion">
        <button class="accordion-header active" onclick="toggleAccordion('description')">
          <span>Product Description</span>
          <span class="accordion-icon">-</span>
        </button>
        <div id="description" class="accordion-content active">
          <div class="description-content">
            {{ product_description | replace: '\n\n', '<br><br>' | replace: '\n', '<br>' }}
          </div>
        </div>
      </div>
    
    <div class="accordion">
      <button class="accordion-header" onclick="toggleAccordion('features')">
        <span>Key Features</span>
        <span class="accordion-icon">+</span>
      </button>
      <div id="features" class="accordion-content">
        <ul class="features-list">
          {% for feature in product_key_features %}
            <li>{{ feature }}</li>
          {% endfor %}
        </ul>
      </div>
    </div>
    
    <div class="accordion">
      <button class="accordion-header" onclick="toggleAccordion('how-to-use')">
        <span>How to Use</span>
        <span class="accordion-icon">+</span>
      </button>
      <div id="how-to-use" class="accordion-content">
        <ol class="how-to-list">
          {% for step in how_to_use %}
            <li>{{ step }}</li>
          {% endfor %}
        </ol>
      </div>
    </div>
    
    <div class="accordion">
      <button class="accordion-header" onclick="toggleAccordion('faqs')">
        <span>FAQs</span>
        <span class="accordion-icon">+</span>
      </button>
      <div id="faqs" class="accordion-content">
        <div class="faqs-list">
          {% for faq in faqs %}
            {% assign faq_parts = faq | split: "|" %}
            <div class="faq-item">
              <h4>{{ faq_parts[0] }}</h4>
              <p>{{ faq_parts[1] }}</p>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
    
    <div class="accordion">
      <button class="accordion-header" onclick="toggleAccordion('shipping')">
        <span>Shipping & Returns</span>
        <span class="accordion-icon">+</span>
      </button>
      <div id="shipping" class="accordion-content">
        <div class="shipping-info">
          <p><strong>Free Shipping:</strong> On orders above â‚¹299</p>
          <p><strong>Delivery Time:</strong> 3-5 business days</p>
          <p><strong>Returns:</strong> Easy returns within 7 days</p>
          <p><strong>Payment:</strong> Cash on delivery available</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Fun & Functional Section -->
  <div class="fun-functional-section">
    <h2 class="fun-functional-title">Fun, Functional & Perfect for Every Kitchen</h2>
  </div>

  <!-- Product Testimonials Section -->
  <div class="product-testimonials-section">
    <div class="testimonials-slider">
      <div class="testimonials-container">
        {% if product.handle == 'vegetable-cleaning-brush' %}
          <!-- 3 Hinglish Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Ye carrot brush bahut zabardast hai! Aloo aur gajar ko itna jaldi saaf kar deta hai. Cute design hai aur wet hands mein bhi slip nahi hota.</p>
            <div class="testimonial-author">- Priya Sharma, Mumbai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Roz ke cooking ke liye perfect hai! Bristles gentle hain lekin effective. Sink area ab kitna cute lagta hai is brush ke saath.</p>
            <div class="testimonial-author">- Rajesh Kumar, Delhi</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Quality bahut acchi hai! Sabziyon se gandagi nikal jati hai bina damage kiye. Grip excellent hai aur jaldi dry ho jata hai.</p>
            <div class="testimonial-author">- Meera Patel, Bangalore</div>
          </div>
          
          <!-- 3 Mixed Hinglish-English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Best kitchen investment hai! Works great on all types of produce. Carrot shape adorable hai aur functional bhi.</p>
            <div class="testimonial-author">- Amit Singh, Chennai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Super effective aur cute hai! Cleans vegetables thoroughly while keeping nutrients intact. Highly recommend karta hun!</p>
            <div class="testimonial-author">- Neha Gupta, Hyderabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Daily kaam easy ho gaya hai! The bristles are firm yet gentle. Kitchen mein aesthetic touch bhi mil gaya hai.</p>
            <div class="testimonial-author">- Karan Sethi, Pune</div>
          </div>
          
          <!-- 4 English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">This brush is absolutely amazing! Perfect for cleaning all types of vegetables. The design is both functional and adorable.</p>
            <div class="testimonial-author">- Kavya Sharma, Kolkata</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent quality and very effective! Removes dirt without damaging the vegetables. The grip is perfect for wet hands.</p>
            <div class="testimonial-author">- Arjun Malhotra, Ahmedabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Love this product! Makes vegetable cleaning so much easier and faster. The carrot shape adds a fun touch to my kitchen.</p>
            <div class="testimonial-author">- Priya Verma, Jaipur</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Perfect for everyday use! Gentle on vegetables but tough on dirt. Highly recommend for anyone who loves cooking.</p>
            <div class="testimonial-author">- Rohan Singh, Lucknow</div>
          </div>
        {% elsif product.handle == 'kitchen-sink-strainer-basket' %}
          <!-- 3 Hinglish Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Ye strainer basket perfect hai! Saare food particles catch karta hai aur clogs prevent karta hai. Clean karna bhi easy hai.</p>
            <div class="testimonial-author">- Sanjay Verma, Mumbai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Quality bahut acchi hai! Press-down design cleaning ko itna easy bana deta hai. Ab drain issues nahi hote kitchen mein.</p>
            <div class="testimonial-author">- Kavita Reddy, Delhi</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent product hai! Sink mein perfectly fit hota hai aur sab kuch catch karta hai. Design practical aur durable hai.</p>
            <div class="testimonial-author">- Deepak Malhotra, Bangalore</div>
          </div>
          
          <!-- 3 Mixed Hinglish-English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Best strainer hai! Fits perfectly in my sink and catches everything. No more drain problems in kitchen.</p>
            <div class="testimonial-author">- Priya Desai, Chennai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Super effective strainer! Easy to clean and prevents all clogs. Kitchen sink ab clean rehta hai always.</p>
            <div class="testimonial-author">- Rahul Sharma, Hyderabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Daily use ke liye perfect! The design is practical and durable. Sink area ab organized lagta hai.</p>
            <div class="testimonial-author">- Anjali Kapoor, Pune</div>
          </div>
          
          <!-- 4 English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">This strainer basket is excellent! Catches all food particles and prevents drain clogs completely.</p>
            <div class="testimonial-author">- Ananya Patel, Kolkata</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Perfect fit for my sink! The press-down design makes cleaning so much easier. Highly recommend!</p>
            <div class="testimonial-author">- Aditya Kumar, Ahmedabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Great quality and very effective! No more drain issues since I started using this strainer basket.</p>
            <div class="testimonial-author">- Shreya Reddy, Jaipur</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent product! Fits perfectly and catches everything. The design is both practical and durable.</p>
            <div class="testimonial-author">- Vikram Gupta, Lucknow</div>
          </div>
        {% elsif product.handle == 'oil-dispenser-silicone-brush-250ml' %}
          <!-- 3 Hinglish Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Ye oil dispenser zabardast hai! Oil application mein perfect control milta hai. Silicone brush pans ke liye bahut accha hai.</p>
            <div class="testimonial-author">- Anjali Desai, Mumbai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Oil dispenser bahut pasand aaya! Ab messy oil bottles nahi hain. Brush precise control deta hai aur clean karna easy hai.</p>
            <div class="testimonial-author">- Vikram Sharma, Delhi</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Cooking ke liye perfect hai! 250ml capacity ideal hai aur silicone brush versatile hai. Quality bahut acchi hai.</p>
            <div class="testimonial-author">- Ritu Kapoor, Bangalore</div>
          </div>
          
          <!-- 3 Mixed Hinglish-English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Best oil dispenser hai! Perfect control over oil application and silicone brush works great for greasing pans.</p>
            <div class="testimonial-author">- Meera Patel, Chennai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Love this oil dispenser! No more messy bottles and brush gives precise control. Clean karna bhi easy hai.</p>
            <div class="testimonial-author">- Arjun Singh, Hyderabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Cooking mein perfect hai! The 250ml capacity is ideal and silicone brush versatile hai. Great quality product.</p>
            <div class="testimonial-author">- Neha Gupta, Pune</div>
          </div>
          
          <!-- 4 English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">This oil dispenser is amazing! Perfect control over oil application and the silicone brush works great for greasing pans.</p>
            <div class="testimonial-author">- Meera Iyer, Kolkata</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent product! No more messy oil bottles. The brush gives precise control and it's very easy to clean.</p>
            <div class="testimonial-author">- Rahul Desai, Ahmedabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Perfect for cooking! The 250ml capacity is ideal and the silicone brush is so versatile. Great quality product.</p>
            <div class="testimonial-author">- Pooja Nambiar, Jaipur</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Love this oil dispenser! Makes cooking so much easier and cleaner. The brush is perfect for precise oil application.</p>
            <div class="testimonial-author">- Saurabh Joshi, Lucknow</div>
          </div>
        {% else %}
          <!-- 3 Hinglish Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Product quality bahut acchi hai! Exactly jo chahiye tha wahi mila. Value for money excellent hai aur customer service bhi zabardast.</p>
            <div class="testimonial-author">- Arjun Mehta, Mumbai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Highly recommend karta hun! Perfectly work karta hai aur quality outstanding hai. Definitely dubara buy karunga.</p>
            <div class="testimonial-author">- Shweta Iyer, Delhi</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent purchase hai! Product expectations se exceed karta hai. Fast delivery aur great packaging bhi.</p>
            <div class="testimonial-author">- Rahul Joshi, Bangalore</div>
          </div>
          
          <!-- 3 Mixed Hinglish-English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Amazing product quality! Exactly what I was looking for. Value for money excellent hai aur customer service bhi great.</p>
            <div class="testimonial-author">- Priya Sharma, Chennai</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Highly recommend this product! Works perfectly and quality outstanding hai. Will definitely buy again.</p>
            <div class="testimonial-author">- Rajesh Kumar, Hyderabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent purchase! Product exceeded my expectations. Fast delivery aur great packaging bhi mila.</p>
            <div class="testimonial-author">- Meera Patel, Pune</div>
          </div>
          
          <!-- 4 English Reviews -->
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Amazing product quality! Exactly what I was looking for. Great value for money and excellent customer service.</p>
            <div class="testimonial-author">- Kavya Sharma, Kolkata</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Highly recommend this product! Works perfectly and the quality is outstanding. Will definitely buy again.</p>
            <div class="testimonial-author">- Arjun Malhotra, Ahmedabad</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Excellent purchase! The product exceeded my expectations. Fast delivery and great packaging too.</p>
            <div class="testimonial-author">- Priya Verma, Jaipur</div>
          </div>
          
          <div class="testimonial-card">
            <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="testimonial-text">Perfect product! Great quality and exactly what I needed. Fast delivery and excellent customer service.</p>
            <div class="testimonial-author">- Rohan Singh, Lucknow</div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Product Video Section -->
  <div class="product-video-section">
    <video class="product-video" autoplay muted loop playsinline>
      <source src="https://ik.imagekit.io/5rtpzv0na/852388-hd_1920_1080_24fps.mp4?updatedAt=1756151757446" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <!-- Fast Shipping Section -->
  <div class="fast-shipping-section">
    <h2 class="fast-shipping-title">Product Shipped Fast</h2>
  </div>

  <!-- You Might Also Like Section -->
  <div class="you-might-also-like-section">
    <h2 class="section-title">You Might Also Like</h2>
    <div class="products-carousel">
      <div class="products-container">
        {% assign product1 = all_products['360-rotating-hook-hanger'] %}
        {% assign product2 = all_products['4-in-1-stainless-steel-bowl-colander-grater'] %}
        {% assign product3 = all_products['kitchen-sink-strainer-basket'] %}
        {% assign product4 = all_products['mini-electric-food-chopper'] %}
        
        {% if product1.id != blank %}
          <div class="product-card" onclick="window.location.href='{{ product1.url }}'">
            <div class="product-image">
              <img src="{{ product1.featured_image | img_url: '300x300' }}" alt="{{ product1.title }}">
            </div>
            <div class="product-info">
              <h3 class="product-name">{{ product1.title }}</h3>
              <div class="product-price">
                {% if product1.compare_at_price > product1.price %}
                  <span class="original-price">â‚¹{{ product1.compare_at_price | money_without_currency }}</span>
                {% endif %}
                â‚¹{{ product1.price | money_without_currency }}
              </div>
              <button class="quick-atc-btn" onclick="event.stopPropagation(); addToCartDirect('{{ product1.handle }}', {{ product1.id }})">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                Add to Cart
              </button>
            </div>
          </div>
        {% endif %}
        
        {% if product2.id != blank %}
          <div class="product-card" onclick="window.location.href='{{ product2.url }}'">
            <div class="product-image">
              <img src="{{ product2.featured_image | img_url: '300x300' }}" alt="{{ product2.title }}">
            </div>
            <div class="product-info">
              <h3 class="product-name">{{ product2.title }}</h3>
              <div class="product-price">
                {% if product2.compare_at_price > product2.price %}
                  <span class="original-price">â‚¹{{ product2.compare_at_price | money_without_currency }}</span>
                {% endif %}
                â‚¹{{ product2.price | money_without_currency }}
              </div>
              <button class="quick-atc-btn" onclick="event.stopPropagation(); addToCartDirect('{{ product2.handle }}', {{ product2.id }})">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                Add to Cart
              </button>
            </div>
          </div>
        {% endif %}
        
        {% if product3.id != blank %}
          <div class="product-card" onclick="window.location.href='{{ product3.url }}'">
            <div class="product-image">
              <img src="{{ product3.featured_image | img_url: '300x300' }}" alt="{{ product3.title }}">
            </div>
            <div class="product-info">
              <h3 class="product-name">{{ product3.title }}</h3>
              <div class="product-price">
                {% if product3.compare_at_price > product3.price %}
                  <span class="original-price">â‚¹{{ product3.compare_at_price | money_without_currency }}</span>
                {% endif %}
                â‚¹{{ product3.price | money_without_currency }}
              </div>
              <button class="quick-atc-btn" onclick="event.stopPropagation(); addToCartDirect('{{ product3.handle }}', {{ product3.id }})">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                Add to Cart
              </button>
            </div>
          </div>
        {% endif %}
        
        {% if product4.id != blank %}
          <div class="product-card" onclick="window.location.href='{{ product4.url }}'">
            <div class="product-image">
              <img src="{{ product4.featured_image | img_url: '300x300' }}" alt="{{ product4.title }}">
            </div>
            <div class="product-info">
              <h3 class="product-name">{{ product4.title }}</h3>
              <div class="product-price">
                {% if product4.compare_at_price > product4.price %}
                  <span class="original-price">â‚¹{{ product4.compare_at_price | money_without_currency }}</span>
                {% endif %}
                â‚¹{{ product4.price | money_without_currency }}
              </div>
              <button class="quick-atc-btn" onclick="event.stopPropagation(); addToCartDirect('{{ product4.handle }}', {{ product4.id }})">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                Add to Cart
              </button>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Customer Reviews -->
  <div class="reviews-section">
    <div class="reviews-header">
      <div class="reviews-title-section">
        <h2 class="reviews-title">Customer Reviews</h2>
        <div class="reviews-subtitle">What our customers are saying</div>
      </div>
      <div class="overall-rating">
        <div class="rating-main">
          <span class="rating-number">{{ product_rating }}</span>
          <div class="rating-stars">
            {% render 'star-rating', rating: product_rating %}
          </div>
        </div>
        <div class="rating-details">
          <span class="total-reviews">Based on {{ product_review_count }} reviews</span>
          <div class="rating-badge">Excellent</div>
        </div>
      </div>
    </div>
    
    {% if product.handle == 'oil-dispenser-silicone-brush-250ml' %}
    <!-- Reviews Sorting -->
    <div class="reviews-sorting">
      <div class="sort-dropdown">
        <label for="sort-select">Sort by:</label>
        <select id="sort-select" onchange="sortReviews(this.value, this)">
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
          <option value="rating">Highest Rated</option>
          <option value="lowest">Lowest Rated</option>
          <option value="helpful">Most Helpful</option>
        </select>
      </div>
    </div>
    
    <div class="reviews-grid" id="reviews-container">
      <div class="review-card" data-rating="5" data-date="2024-01-17" data-helpful="12">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>RM</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Rhea Malhotra</span>
              <span class="reviewer-location">Mumbai, Maharashtra</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">Today</span>
          </div>
        </div>
        <p class="review-text">"Perfect oil control for my cooking! This dispenser with silicone brush gives precise application. Great for greasing pans and applying marinades. Customer support was amazing when I had questions about care instructions."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 12)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (12)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card" data-rating="5" data-date="2024-01-10" data-helpful="8">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>AK</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Arjun Khanna</span>
              <span class="reviewer-location">Delhi, NCR</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">2 weeks ago</span>
          </div>
        </div>
        <p class="review-text">"Daily cooking mein oil control perfect ho gaya! Silicone brush se precise application. Paisa vasool! Product quality is excellent and delivery was super fast. Great experience with the customer service team too."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 8)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (8)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card" data-rating="4" data-date="2023-12-17" data-helpful="5">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>NM</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Neha Menon</span>
              <span class="reviewer-location">Bangalore, Karnataka</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜†</span>
            <span class="review-date">1 month ago</span>
          </div>
        </div>
        <p class="review-text">"Compact and effective oil dispenser. The silicone brush gives precise control and the glass container is easy to clean. Good value for money. Perfect for daily cooking use."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 5)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (5)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card" data-rating="5" data-date="2023-10-17" data-helpful="15">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>KS</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Karan Sethi</span>
              <span class="reviewer-location">Pune, Maharashtra</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">3 months ago</span>
          </div>
        </div>
        <p class="review-text">"Kitchen me oil control perfect! Silicone brush se precise application. Great product quality and excellent customer support experience. Highly recommended for serious cooks!"</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 15)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (15)
            </button>
          </div>
        </div>
      </div>
      
      <!-- Additional Reviews (Hidden by default) -->
      <div class="review-card hidden" data-rating="5" data-date="2024-01-03" data-helpful="9">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>AP</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Ananya Patel</span>
              <span class="reviewer-location">Ahmedabad, Gujarat</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">2 weeks ago</span>
          </div>
        </div>
        <p class="review-text">"Amazing product! The brush cleans vegetables so effectively. Love the ergonomic design and the fact that it dries quickly. Customer service was very helpful with my order."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 9)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (9)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="4" data-date="2023-12-28" data-helpful="6">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>RS</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Rahul Sharma</span>
              <span class="reviewer-location">Chennai, Tamil Nadu</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜†</span>
            <span class="review-date">2 weeks ago</span>
          </div>
        </div>
        <p class="review-text">"Good quality brush for daily use. Cleans vegetables effectively and the grip is comfortable. Fast delivery and good packaging. Satisfied with the purchase."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 6)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (6)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="5" data-date="2023-12-20" data-helpful="11">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>PK</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Priya Kumar</span>
              <span class="reviewer-location">Hyderabad, Telangana</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">3 weeks ago</span>
          </div>
        </div>
        <p class="review-text">"Excellent oil dispenser! The silicone brush gives perfect control for greasing pans and applying marinades. The design is functional and beautiful. Great customer support experience too!"</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 11)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (11)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="4" data-date="2023-12-15" data-helpful="4">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>VS</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Vikram Singh</span>
              <span class="reviewer-location">Kolkata, West Bengal</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜†</span>
            <span class="review-date">1 month ago</span>
          </div>
        </div>
        <p class="review-text">"Good quality brush that does its job well. The bristles are firm enough to clean properly but gentle on vegetables. Happy with the purchase and delivery service."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 4)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (4)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="5" data-date="2023-12-10" data-helpful="13">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>MJ</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Meera Joshi</span>
              <span class="reviewer-location">Jaipur, Rajasthan</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">1 month ago</span>
          </div>
        </div>
        <p class="review-text">"Perfect brush for my kitchen! Cleans vegetables thoroughly and the design is adorable. Great product quality and excellent customer service experience."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 13)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (13)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="4" data-date="2023-12-05" data-helpful="7">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>AG</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Amit Gupta</span>
              <span class="reviewer-location">Lucknow, Uttar Pradesh</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜†</span>
            <span class="review-date">1 month ago</span>
          </div>
        </div>
        <p class="review-text">"Good quality brush that makes cleaning vegetables easy. The grip is comfortable and it dries quickly. Satisfied with the product and delivery service."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 7)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (7)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="5" data-date="2023-11-30" data-helpful="10">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>SK</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Sunita Kapoor</span>
              <span class="reviewer-location">Chandigarh, Punjab</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">2 months ago</span>
          </div>
        </div>
        <p class="review-text">"Excellent brush! Cleans vegetables perfectly and the design is so cute. Great quality and fast delivery. Customer support was very helpful too!"</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 10)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (10)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="4" data-date="2023-11-25" data-helpful="6">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>RP</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Rajesh Patel</span>
              <span class="reviewer-location">Surat, Gujarat</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜†</span>
            <span class="review-date">2 months ago</span>
          </div>
        </div>
        <p class="review-text">"Good quality brush for daily use. Cleans vegetables effectively and the grip is comfortable. Happy with the purchase and delivery service."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 6)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (6)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="5" data-date="2023-11-20" data-helpful="14">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>LM</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Lakshmi Menon</span>
              <span class="reviewer-location">Kochi, Kerala</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜…</span>
            <span class="review-date">2 months ago</span>
          </div>
        </div>
        <p class="review-text">"Perfect brush for my kitchen! Cleans vegetables thoroughly and the design is adorable. Great product quality and excellent customer service experience."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 14)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (14)
            </button>
          </div>
        </div>
      </div>
      
      <div class="review-card hidden" data-rating="4" data-date="2023-11-15" data-helpful="5">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">
              <span>AS</span>
            </div>
            <div class="reviewer-details">
              <span class="reviewer-name">Anjali Singh</span>
              <span class="reviewer-location">Indore, Madhya Pradesh</span>
            </div>
          </div>
          <div class="review-rating">
            <span class="review-stars">â˜…â˜…â˜…â˜…â˜†</span>
            <span class="review-date">3 months ago</span>
          </div>
        </div>
        <p class="review-text">"Good quality brush that does its job well. The bristles are firm enough to clean properly but gentle on vegetables. Happy with the purchase."</p>
        <div class="review-footer">
          <span class="verified-badge">
            <svg class="verified-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Verified Buyer
          </span>
          <div class="review-helpful">
            <button class="helpful-btn" onclick="markHelpful(this, 5)">
              <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
              </svg>
              Helpful (5)
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Show More Button -->
    <div class="show-more-container">
      <button class="show-more-btn" onclick="showMoreReviews()">
        <span class="show-more-text">Show More Reviews</span>
        <svg class="show-more-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M7 10l5 5 5-5z"/>
        </svg>
      </button>
    </div>
    {% endif %}
  </div>


</div>

  <!-- Lightbox Modal -->
  <div id="lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <div class="lightbox-content">
      <img id="lightbox-image" src="" alt="">
      <!-- Lightbox Loading Skeleton -->
      <div id="lightbox-loading-skeleton" class="lightbox-loading-skeleton">
        <div class="skeleton-shimmer"></div>
      </div>
      <div class="lightbox-nav">
        <button class="lightbox-arrow lightbox-prev" onclick="changeLightboxSlide(-1)">â€¹</button>
        <button class="lightbox-arrow lightbox-next" onclick="changeLightboxSlide(1)">â€º</button>
      </div>
    </div>
  </div>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');

.product-page {
  max-width: 100%;
  margin: 0 auto;
  padding: 5px;
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #fff;
  overflow-x: hidden;
}

.product-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 15px;
  margin-bottom: 20px;
  align-items: start;
}

/* Product Images Section */
.product-images-section {
  position: static;
  max-width: 100%;
}

.main-image-container {
  position: relative;
  margin-bottom: 10px;
  border-radius: 6px;
  overflow: hidden;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  background: #f8f9fa;
}

/* Image Loading Skeleton */
.image-loading-skeleton {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #f0f0f0;
  display: none;
  z-index: 10;
  border-radius: 6px;
}

.image-loading-skeleton.loading {
  display: block;
}

.skeleton-shimmer {
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 6px;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.main-image-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(107, 70, 193, 0.3);
  color: white;
  border: none;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  z-index: 10;
  backdrop-filter: blur(5px);
}

.main-image-arrow:hover {
  background: rgba(107, 70, 193, 0.6);
  transform: translateY(-50%) scale(1.1);
}

.main-image-prev {
  left: 10px;
}

.main-image-next {
  right: 10px;
}

#main-product-image {
  width: 100%;
  height: 100vw;
  max-height: 400px;
  object-fit: cover;
  display: block;
  transition: transform 0.3s ease;
}

.main-image-container:hover #main-product-image {
  transform: scale(1.02);
}

.enlarge-hint {
  position: absolute;
  top: 8px;
  right: 8px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 0.6rem;
  font-weight: 500;
  z-index: 5;
  backdrop-filter: blur(10px);
}

.thumbnail-gallery {
  display: flex;
  align-items: center;
  gap: 6px;
  position: relative;
  max-width: 100%;
}

.thumbnails-container {
  display: flex;
  gap: 6px;
  overflow: hidden;
  flex: 1;
  max-width: 100%;
  justify-content: center;
  align-items: center;
}

.thumbnail {
  flex: 0 0 50px;
  height: 50px;
  border-radius: 6px;
  overflow: hidden;
  cursor: pointer;
  border: 2px solid transparent;
  transition: all 0.3s ease;
  background: #f8f9fa;
}

.thumbnail.active {
  border-color: #6b46c1;
  transform: scale(1.05);
}

.thumbnail:hover {
  border-color: #6b46c1;
  transform: scale(1.05);
}

.thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Product Info Section */
.product-info-section {
  padding: 3px 0;
  max-width: 100%;
}

.product-title {
  font-size: 1.2rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  margin-bottom: 6px;
  color: #1a1a1a;
  line-height: 1.2;
}

.product-rating {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 8px;
}

.rating-number {
  font-weight: 700;
  color: #6b46c1;
  font-size: 0.9rem;
}

.review-count {
  color: #666;
  font-size: 0.7rem;
}

.price-quantity-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-bottom: 12px;
  gap: 12px;
}

.product-price {
  flex: 1;
}

.current-price {
  font-size: 1.4rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  color: #6b46c1;
  margin-right: 8px;
  display: inline-block;
}

.compare-price {
  font-size: 1rem;
  color: #999;
  text-decoration: line-through;
  margin-right: 8px;
  display: inline-block;
}

.discount-badge {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  color: white;
  padding: 3px 6px;
  border-radius: 4px;
  font-size: 0.6rem;
  font-weight: 600;
  display: inline-block;
  box-shadow: 0 1px 3px rgba(239, 68, 68, 0.3);
}

.product-actions {
  margin-bottom: 15px;
}

.quantity-selector {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
  min-width: 80px;
}

.quantity-selector label {
  display: block;
  font-weight: 600;
  color: #333;
  margin-bottom: 4px;
  font-size: 0.75rem;
  text-align: right;
}

.quantity-controls {
  display: flex;
  align-items: center;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  overflow: hidden;
  width: fit-content;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.quantity-controls button {
  background: #f9fafb;
  border: none;
  padding: 8px 10px;
  font-size: 14px;
  font-weight: 600;
  color: #6b46c1;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 35px;
}

.quantity-controls button:hover {
  background: #6b46c1;
  color: white;
}

.quantity-controls input {
  width: 40px;
  text-align: center;
  border: none;
  padding: 8px;
  font-size: 12px;
  font-weight: 600;
  color: #1a1a1a;
  background: white;
}

.add-to-cart-btn {
  width: 100%;
  padding: 10px 16px;
  background: linear-gradient(135deg, #6b46c1 0%, #8b5cf6 100%);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: 'Poppins', sans-serif;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  box-shadow: 0 1px 4px rgba(107, 70, 193, 0.3);
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.add-to-cart-btn:hover {
  background: linear-gradient(135deg, #5b35b1 0%, #7c3aed 100%);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(107, 70, 193, 0.4);
}

.btn-icon {
  width: 20px;
  height: 20px;
  color: white;
  display: inline-block;
  line-height: 1;
}

.trust-badges {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.trust-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.7rem;
  color: #333;
  font-weight: 600;
  flex: 1;
  min-width: 0;
}

.badge-icon {
  width: 16px;
  height: 16px;
  color: #6b46c1;
  flex-shrink: 0;
}

/* Product Details Accordions */
.product-details {
  margin-bottom: 20px;
}

.accordion {
  border-bottom: 1px solid #e5e7eb;
  margin-bottom: 8px;
}

.accordion-header {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 15px 0;
  cursor: pointer;
  background: none;
  border: none;
  width: 100%;
  text-align: center;
  font-size: 1.1rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  color: #1a1a1a;
  transition: all 0.3s ease;
  position: relative;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.accordion-header:hover {
  color: #6b46c1;
}

.accordion-header span:first-child {
  flex-grow: 1;
}

.accordion-icon {
  position: absolute;
  right: 0;
  font-size: 1rem;
  transition: transform 0.3s ease;
  flex-shrink: 0;
}

.accordion-header.active .accordion-icon {
  transform: rotate(180deg);
}

.accordion-content {
  display: none;
  padding-top: 8px;
  animation: fadeIn 0.3s ease;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease, padding-top 0.3s ease;
}

.accordion-content.active {
  display: block;
  max-height: 1000px;
}

.description-content {
  line-height: 1.8;
  color: #1a1a1a;
  font-size: 0.95rem;
  font-family: 'Poppins', sans-serif;
  font-weight: 400;
}

.description-content p {
  margin-bottom: 16px;
  text-align: left;
}

.description-content p:last-child {
  margin-bottom: 0;
}

.features-list {
  list-style: none;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.features-list li {
  padding: 12px;
  background: white;
  border-radius: 8px;
  color: #1a1a1a;
  border-left: 3px solid #6b46c1;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
  font-size: 0.9rem;
  line-height: 1.6;
  font-family: 'Poppins', sans-serif;
  font-weight: 400;
}

.how-to-list {
  padding-left: 0;
  color: #1a1a1a;
  line-height: 1.6;
  font-size: 0.9rem;
  font-family: 'Poppins', sans-serif;
  font-weight: 400;
}

.how-to-list li {
  margin-bottom: 12px;
  padding: 12px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
  border-left: 3px solid #6b46c1;
}

.faqs-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.faq-item {
  background: white;
  padding: 12px;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  border-left: 2px solid #6b46c1;
}

.faq-item h4 {
  font-size: 0.9rem;
  margin-bottom: 6px;
  color: #1a1a1a;
  font-weight: 600;
}

.faq-item p {
  color: #4a5568;
  line-height: 1.4;
  font-size: 0.8rem;
}

.shipping-info {
  background: white;
  padding: 12px;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.shipping-info p {
  margin-bottom: 8px;
  color: #4a5568;
  font-size: 0.8rem;
  line-height: 1.4;
  padding: 4px 0;
  border-bottom: 1px solid #e5e7eb;
}

.shipping-info p:last-child {
  border-bottom: none;
}

/* Fun & Functional Section */
.fun-functional-section {
  margin-bottom: 10px;
  padding: 20px 0;
}

.fun-functional-title {
  font-size: 1.4rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  color: #1a1a1a;
  text-align: center;
  line-height: 1.3;
  margin: 0;
}

/* Product Testimonials Section */
.product-testimonials-section {
  margin-bottom: 0;
  padding: 10px 0 30px 0;
}

.testimonials-slider {
  position: relative;
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.testimonials-slider::-webkit-scrollbar {
  display: none;
}

.testimonials-container {
  display: flex;
  gap: 20px;
  padding: 0 10px;
  min-width: max-content;
}

.testimonial-card {
  flex: 0 0 300px;
  background: white;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  border: 1px solid #e9ecef;
  text-align: center;
  transition: transform 0.3s ease;
}

.testimonial-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.testimonial-stars {
  color: #fbbf24;
  font-size: 1.2rem;
  margin-bottom: 15px;
}

.testimonial-text {
  font-size: 0.95rem;
  line-height: 1.6;
  color: #4a5568;
  font-family: 'Poppins', sans-serif;
  font-weight: 400;
  margin-bottom: 15px;
  font-style: italic;
}

.testimonial-author {
  font-size: 0.9rem;
  font-weight: 600;
  color: #6b46c1;
  font-family: 'Poppins', sans-serif;
}

/* Product Video Section */
.product-video-section {
  margin: 0;
  width: 100%;
  overflow: hidden;
  border-radius: 12px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.product-video {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
}

/* Fast Shipping Section */
.fast-shipping-section {
  margin: 0;
  padding: 10px 0;
  text-align: center;
  background: white;
}

.fast-shipping-title {
  font-size: 1.6rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  color: #6b46c1;
  text-align: center;
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* You Might Also Like Section */
.you-might-also-like-section {
  margin: 0 0 40px 0;
  padding: 20px 0;
}

.section-title {
  font-size: 1.4rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  color: #1a1a1a;
  text-align: center;
  margin-bottom: 25px;
}

.products-carousel {
  position: relative;
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.products-carousel::-webkit-scrollbar {
  display: none;
}

.products-container {
  display: flex;
  gap: 20px;
  padding: 0 10px;
  min-width: max-content;
}

.product-card {
  flex: 0 0 280px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  border: 1px solid #e9ecef;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.product-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
}

.product-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.product-card:hover .product-image img {
  transform: scale(1.05);
}

.product-info {
  padding: 15px;
}

.product-name {
  font-size: 0.95rem;
  font-weight: 600;
  font-family: 'Poppins', sans-serif;
  color: #1a1a1a;
  margin: 0 0 8px 0;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.product-price {
  font-size: 1.1rem;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  color: #6b46c1;
  margin-bottom: 12px;
}

.original-price {
  text-decoration: line-through;
  color: #999;
  margin-right: 8px;
  font-size: 0.9rem;
}

.quick-atc-btn {
  width: 100%;
  background: linear-gradient(135deg, #6b46c1 0%, #8b5cf6 100%);
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: 'Poppins', sans-serif;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all 0.3s ease;
}

.quick-atc-btn:hover {
  background: linear-gradient(135deg, #5a3aa8 0%, #7c3aed 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.3);
}

.quick-atc-btn .btn-icon {
  width: 16px;
  height: 16px;
}

/* Add to Cart Notification */
.add-to-cart-notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #10b981;
  color: white;
  padding: 15px 20px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  animation: slideIn 0.3s ease;
}

.notification-content {
  display: flex;
  align-items: center;
  gap: 10px;
}

.notification-icon {
  font-size: 1.2rem;
  font-weight: bold;
}

.notification-text {
  font-family: 'Poppins', sans-serif;
  font-size: 0.9rem;
  font-weight: 500;
}

.notification-close {
  background: none;
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0;
  margin-left: 10px;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Reviews Section */
.reviews-section {
  margin: 30px 0;
  padding: 25px 20px;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 16px;
  border: 1px solid #e2e8f0;
}

.reviews-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 2px solid #e2e8f0;
}

.reviews-title-section {
  flex: 1;
}

.reviews-title {
  font-size: 1.5rem;
  color: #1e293b;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  margin: 0 0 5px 0;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.reviews-subtitle {
  font-size: 0.9rem;
  color: #64748b;
  font-weight: 500;
  font-family: 'Poppins', sans-serif;
}

.overall-rating {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 15px 20px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid #e2e8f0;
  min-width: 140px;
}

.rating-main {
  display: flex;
  align-items: center;
  gap: 8px;
}

.rating-number {
  font-size: 1.8rem;
  font-weight: 800;
  color: #6366f1;
  font-family: 'Poppins', sans-serif;
}

.rating-stars {
  display: flex;
  align-items: center;
}

.rating-details {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.total-reviews {
  color: #64748b;
  font-size: 0.75rem;
  font-weight: 500;
  text-align: center;
}

.rating-badge {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.reviews-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}

.review-card {
  background: white;
  padding: 20px;
  border-radius: 12px;
  border: 1px solid #e2e8f0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.review-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
}

.review-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
  border-color: #cbd5e1;
}

.review-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid #f1f5f9;
}

.reviewer-info {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
}

.reviewer-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
  font-size: 0.8rem;
  font-family: 'Poppins', sans-serif;
}

.reviewer-details {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.reviewer-name {
  font-weight: 600;
  color: #1e293b;
  font-size: 0.9rem;
  font-family: 'Poppins', sans-serif;
}

.reviewer-location {
  font-size: 0.75rem;
  color: #64748b;
  font-weight: 500;
}

.review-rating {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
}

.review-stars {
  color: #fbbf24;
  font-size: 0.9rem;
  letter-spacing: 1px;
}

.review-date {
  font-size: 0.7rem;
  color: #94a3b8;
  font-weight: 500;
}

.review-text {
  margin-bottom: 15px;
  line-height: 1.6;
  color: #334155;
  font-size: 0.85rem;
  font-family: 'Poppins', sans-serif;
  font-style: italic;
  position: relative;
  padding-left: 15px;
}

.review-text::before {
  content: '"';
  position: absolute;
  left: 0;
  top: -5px;
  font-size: 2rem;
  color: #6366f1;
  font-family: serif;
  line-height: 1;
}

.review-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 15px;
  border-top: 1px solid #f1f5f9;
}

.verified-badge {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 0.7rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 4px;
  box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
}

.verified-icon {
  width: 14px;
  height: 14px;
}

.review-helpful {
  display: flex;
  align-items: center;
}

.helpful-btn {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  color: #64748b;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.75rem;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'Poppins', sans-serif;
}

.helpful-btn:hover {
  background: #6366f1;
  color: white;
  border-color: #6366f1;
  transform: translateY(-1px);
}

.helpful-icon {
  width: 12px;
  height: 12px;
}

/* Reviews Sorting */
.reviews-sorting {
  margin-bottom: 20px;
  padding: 15px 0;
  border-bottom: 1px solid #e2e8f0;
}

.sort-dropdown {
  display: flex;
  align-items: center;
  gap: 10px;
}

.sort-dropdown label {
  font-size: 0.9rem;
  font-weight: 600;
  color: #1e293b;
  font-family: 'Poppins', sans-serif;
}

.sort-dropdown select {
  background: white;
  border: 1px solid #e2e8f0;
  color: #1e293b;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'Poppins', sans-serif;
  min-width: 140px;
}

.sort-dropdown select:hover {
  border-color: #6366f1;
}

.sort-dropdown select:focus {
  outline: none;
  border-color: #6366f1;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* Show More Button */
.show-more-container {
  display: flex;
  justify-content: center;
  margin-top: 25px;
  padding-top: 20px;
  border-top: 1px solid #e2e8f0;
}

.show-more-btn {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: 'Poppins', sans-serif;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.show-more-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
}

.show-more-text {
  font-weight: 600;
}

.reviews-count {
  font-weight: 400;
  opacity: 0.9;
}

.show-more-icon {
  width: 16px;
  height: 16px;
  transition: transform 0.3s ease;
}

.show-more-btn:hover .show-more-icon {
  transform: translateY(2px);
}

/* Hidden Reviews */
.review-card.hidden {
  display: none;
}

/* Related Products */
.related-products {
  margin-bottom: 20px;
}

.related-products h2 {
  font-size: 1.1rem;
  margin-bottom: 12px;
  color: #1a1a1a;
  font-weight: 700;
  text-align: center;
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

/* Lightbox */
.lightbox {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.95);
  backdrop-filter: blur(10px);
  cursor: pointer;
}

.lightbox-content {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.lightbox-close {
  position: absolute;
  top: 15px;
  right: 15px;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  z-index: 1001;
  background: rgba(0, 0, 0, 0.5);
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  pointer-events: auto;
}

.lightbox-close:hover {
  background: rgba(0, 0, 0, 0.8);
  transform: scale(1.1);
}

#lightbox-image {
  max-width: 90%;
  max-height: 75%;
  object-fit: contain;
  border-radius: 6px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
  pointer-events: auto;
}

/* Lightbox Loading Skeleton */
.lightbox-loading-skeleton {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  height: 75%;
  background: #f0f0f0;
  display: none;
  z-index: 15;
  border-radius: 6px;
}

.lightbox-loading-skeleton.loading {
  display: block;
}

.lightbox-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 15px;
}

.lightbox-arrow {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  pointer-events: auto;
}

.lightbox-arrow:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@media (min-width: 768px) {
  .product-container {
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }
  
  .product-title {
    font-size: 1.4rem;
  }
  
  .current-price {
    font-size: 1.6rem;
  }
  
  .reviews-grid {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }
  
  #main-product-image {
    height: 50vw;
    max-height: 500px;
  }
  
  .thumbnail {
    flex: 0 0 70px;
    height: 70px;
  }
  
  .thumbnails-container {
    max-width: calc(100% - 80px);
    justify-content: center;
    align-items: center;
  }
}

@media (min-width: 1024px) {
  .product-page {
    max-width: 1200px;
    padding: 15px;
  }
  
  .product-title {
    font-size: 1.6rem;
  }
  
  .current-price {
    font-size: 1.8rem;
  }
  
  #main-product-image {
    height: 50vw;
    max-height: 600px;
  }
  
  .thumbnail {
    flex: 0 0 80px;
    height: 80px;
  }
  
  .thumbnails-container {
    max-width: calc(100% - 90px);
    justify-content: center;
    align-items: center;
  }
}
</style>

<script>
let currentSlide = 0;
let currentLightboxSlide = 0;
let slides = [];
let mainImage = null;

// Set main image functionality
function setMainImage(index) {
  currentSlide = index;
  const selectedImage = slides[index];
  const imageSrc = selectedImage.querySelector('img').src.replace('200x', '800x');
  
  // Show loading skeleton
  const loadingSkeleton = document.getElementById('image-loading-skeleton');
  loadingSkeleton.classList.add('loading');
  
  // Create new image to preload
  const newImage = new Image();
  newImage.onload = function() {
    mainImage.src = imageSrc;
    loadingSkeleton.classList.remove('loading');
  };
  newImage.onerror = function() {
    loadingSkeleton.classList.remove('loading');
  };
  newImage.src = imageSrc;
  
  // Update active thumbnail
  slides.forEach((slide, i) => {
    slide.classList.toggle('active', i === index);
  });
}

// Quantity controls
function updateQuantity(change) {
  const quantityInput = document.getElementById('quantity');
  let currentQty = parseInt(quantityInput.value);
  
  currentQty += change;
  currentQty = Math.max(1, Math.min(10, currentQty));
  quantityInput.value = currentQty;
}

// Accordion functionality
function toggleAccordion(id) {
  const content = document.getElementById(id);
  const header = content.previousElementSibling;
  
  // If this accordion is already open, just close it
  if (content.classList.contains('active')) {
    content.classList.remove('active');
    header.classList.remove('active');
    header.querySelector('.accordion-icon').textContent = '+';
    return;
  }
  
  // Close all other accordions
  document.querySelectorAll('.accordion-content').forEach(acc => {
    acc.classList.remove('active');
    acc.previousElementSibling.classList.remove('active');
    acc.previousElementSibling.querySelector('.accordion-icon').textContent = '+';
  });
  
  // Open current accordion
  content.classList.add('active');
  header.classList.add('active');
  header.querySelector('.accordion-icon').textContent = '-';
  
  // Scroll to the opened accordion smoothly
  setTimeout(() => {
    const headerRect = header.getBoundingClientRect();
    const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
    const targetScroll = currentScroll + headerRect.top - 100; // 100px offset from top
    
    window.scrollTo({
      top: targetScroll,
      behavior: 'smooth'
    });
  }, 100);
}

// Image navigation
function changeMainImage(direction) {
  const thumbnails = document.querySelectorAll('.thumbnail');
  const currentIndex = Array.from(thumbnails).findIndex(thumb => thumb.classList.contains('active'));
  
  let newIndex = currentIndex + direction;
  if (newIndex >= thumbnails.length) newIndex = 0;
  if (newIndex < 0) newIndex = thumbnails.length - 1;
  
  setMainImage(newIndex);
}

// Lightbox functionality
function openLightbox(index) {
  currentLightboxSlide = index;
  const lightbox = document.getElementById('lightbox');
  const lightboxImage = document.getElementById('lightbox-image');
  const lightboxLoadingSkeleton = document.getElementById('lightbox-loading-skeleton');
  
  // Show loading skeleton
  lightboxLoadingSkeleton.classList.add('loading');
  
  // Create new image to preload
  const newImage = new Image();
  newImage.onload = function() {
    lightboxImage.src = slides[index].querySelector('img').src.replace('200x', '800x');
    lightboxLoadingSkeleton.classList.remove('loading');
  };
  newImage.onerror = function() {
    lightboxLoadingSkeleton.classList.remove('loading');
  };
  newImage.src = slides[index].querySelector('img').src.replace('200x', '800x');
  
  lightbox.style.display = 'block';
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  const lightbox = document.getElementById('lightbox');
  if (lightbox) {
    lightbox.style.display = 'none';
    document.body.style.overflow = 'auto';
  }
}

function changeLightboxSlide(direction) {
  currentLightboxSlide += direction;
  
  if (currentLightboxSlide >= slides.length) {
    currentLightboxSlide = 0;
  } else if (currentLightboxSlide < 0) {
    currentLightboxSlide = slides.length - 1;
  }
  
  const lightboxImage = document.getElementById('lightbox-image');
  const lightboxLoadingSkeleton = document.getElementById('lightbox-loading-skeleton');
  
  // Show loading skeleton
  lightboxLoadingSkeleton.classList.add('loading');
  
  // Create new image to preload
  const newImage = new Image();
  newImage.onload = function() {
    lightboxImage.src = slides[currentLightboxSlide].querySelector('img').src.replace('200x', '800x');
    lightboxLoadingSkeleton.classList.remove('loading');
  };
  newImage.onerror = function() {
    lightboxLoadingSkeleton.classList.remove('loading');
  };
  newImage.src = slides[currentLightboxSlide].querySelector('img').src.replace('200x', '800x');
}

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  // Initialize variables
  slides = document.querySelectorAll('.thumbnail');
  mainImage = document.getElementById('main-product-image');
  
  // Initialize reviews - hide additional reviews and set default sort
  const reviews = document.querySelectorAll('.review-card');
  console.log('Found reviews:', reviews.length);
  console.log('Reviews elements:', reviews);
  
  if (reviews.length > 0) {
    totalReviews = reviews.length;
    console.log('Total reviews set to:', totalReviews);
    
    reviews.forEach((review, index) => {
      console.log(`Review ${index}:`, review);
      console.log(`Review ${index} classes:`, review.className);
      console.log(`Review ${index} hidden:`, review.classList.contains('hidden'));
      
      if (index >= 5) {
        review.classList.add('hidden');
        console.log('Hiding review', index);
      } else {
        review.classList.remove('hidden');
        console.log('Showing review', index);
      }
      
      console.log(`After change - Review ${index} hidden:`, review.classList.contains('hidden'));
    });
    
    // Set default sort to newest first
    const sortSelect = document.getElementById('sort-select');
    if (sortSelect) {
      sortSelect.value = 'newest';
      // Don't call sortReviews during initialization to prevent errors
    }
    
    // Don't call updateShowMoreButton during initialization to prevent errors
    // It will be called later when needed
  } else {
    console.log('No reviews found!');
    console.log('Document body:', document.body.innerHTML.substring(0, 1000));
  }
  

  
  // Set first thumbnail as active
  if (slides.length > 0) {
    slides[0].classList.add('active');
  }
  
  // Initialize lightbox click handlers
  const lightbox = document.getElementById('lightbox');
  if (lightbox) {
    // Close lightbox when clicking outside the image
    lightbox.addEventListener('click', function(e) {
      console.log('Lightbox clicked, target:', e.target);
      console.log('Lightbox element:', lightbox);
      console.log('Is target lightbox?', e.target === lightbox);
      console.log('Is target close button?', e.target.classList.contains('lightbox-close'));
      
      if (e.target === lightbox || e.target.classList.contains('lightbox-close')) {
        console.log('Closing lightbox...');
        closeLightbox();
      }
    });
    
    // Also add click handler to the close button specifically
    const closeBtn = lightbox.querySelector('.lightbox-close');
    if (closeBtn) {
      closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        console.log('Close button clicked');
        closeLightbox();
      });
    }
  }
  
  // Initialize testimonials slider
  initializeTestimonialsSlider();
});

// Testimonials slider functionality
let currentTestimonial = 0;
let testimonials = [];
let testimonialInterval;

function initializeTestimonialsSlider() {
  testimonials = document.querySelectorAll('.testimonial-card');
  if (testimonials.length > 0) {
    updateTestimonialsDisplay();
    // Start auto-sliding every 5 seconds
    testimonialInterval = setInterval(function() {
      currentTestimonial++;
      if (currentTestimonial >= testimonials.length) {
        currentTestimonial = 0;
      }
      updateTestimonialsDisplay();
    }, 5000);
  }
}

function changeTestimonial(direction) {
  currentTestimonial += direction;
  
  if (currentTestimonial >= testimonials.length) {
    currentTestimonial = 0;
  } else if (currentTestimonial < 0) {
    currentTestimonial = testimonials.length - 1;
  }
  
  updateTestimonialsDisplay();
}

function updateTestimonialsDisplay() {
  const container = document.querySelector('.testimonials-container');
  if (container && testimonials.length > 0) {
    const cardWidth = 320; // 300px card + 20px gap
    const translateX = -currentTestimonial * cardWidth;
    container.style.transform = `translateX(${translateX}px)`;
  }
}



// Direct add to cart function
  // Reviews functionality
  let currentSort = 'newest';
  let reviewsShown = 5; // Start with 5 visible reviews
  let totalReviews = 0; // Will be set dynamically
  
  function sortReviews(sortType, selectElement) {
    currentSort = sortType;
    
    const container = document.getElementById('reviews-container');
    const reviews = Array.from(container.querySelectorAll('.review-card'));
    
    reviews.sort((a, b) => {
      switch(sortType) {
        case 'rating':
          return parseInt(b.dataset.rating) - parseInt(a.dataset.rating);
        case 'lowest':
          return parseInt(a.dataset.rating) - parseInt(b.dataset.rating);
        case 'newest':
          return new Date(b.dataset.date) - new Date(a.dataset.date);
        case 'oldest':
          return new Date(a.dataset.date) - new Date(b.dataset.date);
        case 'helpful':
          return parseInt(b.dataset.helpful) - parseInt(a.dataset.helpful);
        default:
          return 0;
      }
    });
    
    // Re-append sorted reviews
    reviews.forEach(review => container.appendChild(review));
    
    // Show only first 5 reviews
    reviews.forEach((review, index) => {
      if (index < 5) {
        review.classList.remove('hidden');
      } else {
        review.classList.add('hidden');
      }
    });
    
    reviewsShown = 5;
    // Don't call updateShowMoreButton here to prevent errors
  }
  
  function showMoreReviews() {
    const reviews = document.querySelectorAll('.review-card');
    const nextBatch = Math.min(reviewsShown + 5, totalReviews);
    
    for (let i = reviewsShown; i < nextBatch; i++) {
      if (reviews[i]) {
        reviews[i].classList.remove('hidden');
      }
    }
    
    reviewsShown = nextBatch;
    // Only call updateShowMoreButton if it exists
    if (typeof updateShowMoreButton === 'function') {
      updateShowMoreButton();
    }
  }
  
  function updateShowMoreButton() {
    const remaining = totalReviews - reviewsShown;
    const btn = document.querySelector('.show-more-btn');
    
    if (btn) {
      if (remaining > 0) {
        btn.style.display = 'flex';
      } else {
        btn.style.display = 'none';
      }
    }
  }
  

  
  function markHelpful(button, currentCount) {
    if (button.classList.contains('clicked')) {
      return; // Already clicked
    }
    
    button.classList.add('clicked');
    const newCount = currentCount + 1;
    button.innerHTML = `
      <svg class="helpful-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
      </svg>
      Helpful (${newCount})
    `;
    button.style.background = '#6366f1';
    button.style.color = 'white';
    button.style.borderColor = '#6366f1';
  }

  function addToCartDirect(productHandle, productId) {
  console.log('Adding to cart:', productHandle, 'ID:', productId);
  
  // Create form data for Shopify cart API
  const formData = {
    'items': [{
      'id': productId,
      'quantity': 1
    }]
  };
  
  // Add to cart using Shopify's cart API
  fetch('/cart/add.js', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(formData)
  })
  .then(response => response.json())
  .then(data => {
    console.log('Success:', data);
    const notification = document.createElement('div');
    notification.className = 'add-to-cart-notification';
    notification.innerHTML = `
      <div class="notification-content">
        <span class="notification-icon">âœ“</span>
        <span class="notification-text">Product added to cart!</span>
        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">Ã—</button>
      </div>
    `;
    document.body.appendChild(notification);
    setTimeout(() => {
      if (notification.parentElement) {
        notification.remove();
      }
    }, 3000);
  })
  .catch((error) => {
    console.error('Error:', error);
  });
}

// Keyboard navigation
document.addEventListener('keydown', function(e) {
  if (document.getElementById('lightbox').style.display === 'block') {
    if (e.key === 'Escape') {
      closeLightbox();
    } else if (e.key === 'ArrowLeft') {
      changeLightboxSlide(-1);
    } else if (e.key === 'ArrowRight') {
      changeLightboxSlide(1);
    }
  }
});



// Add to cart functionality
function addToCart() {
  const quantity = document.getElementById('quantity').value;
  const productId = {{ product.id }};
  
  // Add your cart logic here
  console.log('Adding to cart:', productId, 'Quantity:', quantity);
  alert('Product added to cart!');
}
</script>


